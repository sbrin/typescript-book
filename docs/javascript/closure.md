## –ó–∞–º—ã–∫–∞–Ω–∏–µ

–õ—É—á—à–µ–µ, —á—Ç–æ –∫–æ–≥–¥–∞-–ª–∏–±–æ –±—ã–ª–æ –≤ –î–∂–∞–≤–∞–°–∫—Ä–∏–ø—Ç–µ —ç—Ç–æ –∑–∞–º—ã–∫–∞–Ω–∏—è. –í –î–∂–∞–≤–∞–°–∫—Ä–∏–ø—Ç–µ —Ñ—É–Ω–∫—Ü–∏—è –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –ª—é–±–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –≤–æ –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏. –ó–∞–º—ã–∫–∞–Ω–∏—è –ª—É—á—à–µ –≤—Å–µ–≥–æ –æ–±—ä—è—Å–Ω–∏—Ç—å –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö:

```ts
function outerFunction(arg) {
    var variableInOuterFunction = arg;

    function bar() {
        console.log(variableInOuterFunction); // –î–æ—Å—Ç—É–ø –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏–∑ –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏
    }

    // –í—ã–∑–æ–≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ –æ–Ω–∞ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ arg
    bar();
}

outerFunction("hello closure!"); // –≤—ã–≤–µ–¥–µ—Ç "hello closure!"
```

–ö–∞–∫ –≤–∏–¥–∏—Ç–µ, –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—è –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (variableInOuterFunction) –∏–∑ –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–æ –≤–Ω–µ—à–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–º–∫–Ω—É—Ç—ã (–∏–ª–∏ —Å–≤—è–∑–∞–Ω—ã) –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–µ–π. –û—Ç—Å—é–¥–∞ –∏ —Ç–µ—Ä–º–∏–Ω **–∑–∞–º—ã–∫–∞–Ω–∏–µ**. –°–∞–º–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –¥–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–∞ –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω–∞.

–¢–µ–ø–µ—Ä—å —Å–∞–º–æ–µ –∫—Ä—É—Ç–æ–µ: –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—è –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –∏–∑ –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏ *–¥–∞–∂–µ –∫–æ–≥–¥–∞ –≤–Ω–µ—à–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—è –±—ã–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞*. –í—Å—ë –ø–æ—Ç–æ–º—É, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –µ—â–µ —Å–≤—è–∑–∞–Ω—ã —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–µ–π –∏ –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –≤–Ω–µ—à–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–∏. –î–∞–≤–∞–π—Ç–µ –µ—â–µ —Ä–∞–∑ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –ø—Ä–∏–º–µ—Ä:

```ts
function outerFunction(arg) {
    var variableInOuterFunction = arg;
    return function() {
        console.log(variableInOuterFunction);
    }
}

var innerFunction = outerFunction("hello closure!");

// –ó–∞–º–µ—Ç—å—Ç–µ, —á—Ç–æ outerFunction –±—ã–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
innerFunction(); // –í—ã–≤–µ–¥–µ—Ç "hello closure!"
```

### –ü–æ—á–µ–º—É —ç—Ç–æ –∫—Ä—É—Ç–æ
–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –ª–µ–≥–∫–æ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç—å –æ–±—ä–µ–∫—Ç—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –ø–∞—Ç—Ç–µ—Ä–Ω–µ "—Ä–∞—Å–∫—Ä—ã–≤–∞—é—â–∏–π—Å—è –º–æ–¥—É–ª—å":

```ts
function createCounter() {
    let val = 0;
    return {
        increment() { val++ },
        getVal() { return val }
    }
}

let counter = createCounter();
counter.increment();
console.log(counter.getVal()); // 1
counter.increment();
console.log(counter.getVal()); // 2
```

–ù–∞ –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–º —É—Ä–æ–≤–Ω–µ —ç—Ç–æ –¥–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å —à—Ç—É–∫–∞–º –≤—Ä–æ–¥–µ Node.js (–µ—Å–ª–∏ –≤ –≤–∞—à–µ–º –º–æ–∑–≥—É —Å–µ–π—á–∞—Å –Ω–∏—á–µ–≥–æ –Ω–µ —â—ë–ª–∫–Ω—É–ª–æ - –Ω–µ –ø–µ—Ä–µ–∂–∏–≤–∞–π—Ç–µ. –≠—Ç–æ –ø—Ä–∏–π–¥–µ—Ç —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º üåπ):

```ts
// –ü—Å–µ–≤–¥–æ–∫–æ–¥ –¥–ª—è –ø–æ—è—Å–Ω–µ–Ω–∏—è –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏
server.on(function handler(req, res) {
    loadData(req.id).then(function(data) {
        // –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `res` –±—ã–ª–∞ –∑–∞–º–∫–Ω—É—Ç–∞ –∏ –æ—Å—Ç–∞–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω–∞
        res.send(data);
    })
});
```
